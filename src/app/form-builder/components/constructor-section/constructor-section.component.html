<div class='constructor'>
  <p class="constructor-field-title">form builder</p>
  <div 
    class="constructor-wrapper">
  <form 
    class="drop-container"
    cdkDropList
    [cdkDropListData]="constructorFieldsTypesList"
    (cdkDropListDropped)="drop($event)"
    (click) = "selectGeneralField('generalField')"
  >
    <div
      cdkDrag *ngFor="let field of constructorFieldsTypesList; let i = index"
      class="form-container"
    >
      <div class="custom-placeholder" *cdkDragPlaceholder></div>

      <mat-form-field *ngIf="field =='input'" class="text_field field-wrapper" [ngStyle]="getFieldStyles(i)">
        <input 
          matInput
          [placeholder]="getFieldProp(i, 'placeholder')"  
          *ngIf="field =='input'" 
          (click)="handleFieldClick(i)" 
          (clickOutside)="handleFieldClickOutside(i)" 
          [exclude]="'.styles'"
          [ngStyle]="getFieldStyles(i)"
        >
      </mat-form-field>

      <mat-form-field *ngIf="field =='textarea'" class="textarea_field field-wrapper" [ngStyle]="getFieldStyles(i)" >
        <textarea matInput
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5"
                  *ngIf="field =='textarea'" (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                  [exclude]="'.styles'"
                  [ngStyle]="getFieldStyles(i)"
                  ></textarea>
      </mat-form-field>
      
      <button 
            *ngIf="field =='button'"
                mat-raised-button color="primary" 
                class="button"
                (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                [exclude]="'.styles'"
                [ngStyle]="getFieldStyles(i)"
      >
        Button
      </button>
      
      <mat-checkbox  *ngIf="field =='checkbox'"
                     class="checkbox"
                     (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                     [exclude]="'.styles'"
                     [ngStyle]="getFieldStyles(i)"
                     >Check me!</mat-checkbox>
      
      <mat-select *ngIf="field =='select'" 
                  class="select"
                  (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                  [exclude]="'.styles'"
                  [ngStyle]="getFieldStyles(i)"
                  >
                  
        <mat-option  class="select_option" [ngStyle]="getFieldStyles(i)">
          option
        </mat-option>
      </mat-select>
    </div>
  </form>
  </div>
</div>
