<div class='constructor'>
  <p class="constructor-field-title">form builder</p>
  <div 
    class="constructor-wrapper">
  <form 
    class="drop-container"
    cdkDropList
    [cdkDropListData]="constructorFieldsTypesList"
    (cdkDropListDropped)="drop($event)"
  >
    <div
      *ngFor="let field of constructorFieldsTypesList; let i = index"
      class="form-container"
    >
      <mat-form-field cdkDrag *ngIf="field =='input'" class="text_field field-wrapper">
        <input 
          matInput
          [placeholder]="getFieldProp(i, 'placeholder')"  
          *ngIf="field =='input'" 
          (click)="handleFieldClick(i)" 
          (clickOutside)="handleFieldClickOutside(i)" 
          [exclude]="'.styles'"
          [ngStyle]="getFieldStyles(i)" 
        >
      </mat-form-field>

      <mat-form-field cdkDrag *ngIf="field =='textarea'" class="textarea_field field-wrapper">
        <textarea matInput
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5"
                  *ngIf="field =='textarea'" (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                  ></textarea>
      </mat-form-field>

      <button cdkDrag *ngIf="field =='button'" 
               mat-raised-button color="primary" 
               class="button"
               (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
               >Button</button>
  
      <mat-checkbox cdkDrag *ngIf="field =='checkbox'"
                     class="checkbox"
                     (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                     >Check me!</mat-checkbox>
      
      <mat-select cdkDrag *ngIf="field =='select'" 
                  class="select"
                  (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                  > 
        <mat-option  class="select_option">
          option
        </mat-option>
      </mat-select>
    </div>
  </form>
  </div>
</div>
