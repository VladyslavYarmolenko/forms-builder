<div class='constructor'>
  <p class="constructor-field-title">form builder</p>
  <div 
    class="constructor-wrapper">
  <div
    class="drop-container"
    cdkDropList
    [cdkDropListData]="constructorFieldsTypesList"
    (cdkDropListDropped)="drop($event)"
    >
    <form
      cdkDrag *ngFor="let field of constructorFieldsTypesList; let i = index"
      class="form-container"
    >
      <mat-form-field *ngIf="field =='input'" class="text_field field-wrapper" [ngStyle]="getFieldStyles(i)">
        <input 
          *ngIf="field =='input'" 
          matInput
          [placeholder]="getFieldProp(i, 'placeholder')"  
          (click)="handleFieldClick(i)" 
          (clickOutside)="handleFieldClickOutside(i)" 
          [exclude]="'.styles'"
          [ngStyle]="getFieldStyles(i)"
        >
      </mat-form-field>

      <mat-form-field *ngIf="field =='textarea'" class="textarea_field field-wrapper" [ngStyle]="getFieldStyles(i)" >
        <textarea
            *ngIf="field =='textarea'" 
            matInput
            [placeholder]="getFieldProp(i, 'placeholder')"  
             (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
            [exclude]="'.styles'"
            [ngStyle]="getFieldStyles(i)"
            ></textarea>
      </mat-form-field>
      
      <button 
            *ngIf="field =='button'"
            mat-raised-button color="primary" 
            class="button"
            (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
            [exclude]="'.styles'"
            [ngStyle]="getFieldStyles(i)"
      >
        {{getFieldProp(i, 'text')}}
      </button>
      
      <mat-checkbox  *ngIf="field =='checkbox'"
                     class="checkbox"
                     (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                     [exclude]="'.styles'"
                     [ngStyle]="getFieldStyles(i)"
                     >Check me!</mat-checkbox>
      
        <mat-label>{{getFieldProp(i, 'label')}}</mat-label>
        <mat-select *ngIf="field =='select'" 
                    class="select"
                    (click)="handleFieldClick(i)" (clickOutside)="handleFieldClickOutside(i)"
                    [exclude]="'.styles'"
                    [ngStyle]="getFieldStyles(i)"
                    >
          
          <mat-option *ngFor="let option of getFieldProp(i, 'options')" class="select_option" [ngStyle]="getFieldStyles(i)">
            {{ option }}
          </mat-option>
        </mat-select>
      
    </form>
  </div>
  </div>
</div>
